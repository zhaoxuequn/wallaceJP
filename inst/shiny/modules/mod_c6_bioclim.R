
bioclim_UI <- function(id) {
  ns <- NS(id)
  tagList(
  )
}

bioclim_MOD <- function(input, output, session, rvs) {
  reactive({
    if (is.null(rvs$occsGrp)) {
      rvs %>% writeLog(type = 'error', i18n$t("Before building a model, partition occurrences in component 5."))
      return()
      
    }

    occs.xy <- rvs$occs %>% dplyr::select(longitude, latitude)
    colnames(rvs$bgPts) <- names(occs.xy)
    
    e <- ENMeval::ENMevaluate(occs = occs.xy, envs = rvs$bgMsk, bg = rvs$bgPts,
                              algorithm = "bioclim", partitions = "user",
                              user.grp = list(occs.grp = rvs$occsGrp, bg.grp = rvs$bgGrp))

    rvs %>% writeLog(i18n$t("BIOCLIM ran successfully and output evaluation results."))
      
    return(e)
  })
}
